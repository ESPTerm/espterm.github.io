<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1">
	<title>System Settings :: ESPTerm</title>
	<link href="/css/app.310033b.css" rel="stylesheet">
	<script src="/js/app.310033b.js"></script>
	<script>
		var _root = location.host;
		var _demo = 1;
			</script>
</head>
<body class="cfg">
<div id="outer">
<nav id="menu">
	<div id="brand" tabindex=0>ESPTerm<sup> DEMO</sup></div>
	<a href="term.html" class="icn-back">Back to Terminal</a>
	<a href="cfg_term.html" class="icn-terminal ">Terminal Settings</a><a href="cfg_wifi.html" class="icn-wifi ">WiFi Settings</a><a href="cfg_network.html" class="icn-network ">Network Settings</a><a href="cfg_system.html" class="icn-configure selected">System Settings</a><a href="help.html" class="icn-help ">Quick Reference</a><a href="about.html" class="icn-about ">About ESPTerm</a></nav>

<div id="content">
<img src="/img/loader.gif" alt="Loadingâ€¦" id="loader">
<h1>System Settings</h1>

<div class="Box errors hidden">
	<span class="lead">Validation errors for:</span>&nbsp;<span class="list"></span>
</div>

<div class="Box str mobcol">
	<h2 tabindex=0>Save & Restore</h2>

	<div class="Row explain nomargintop">
		
		ESPTerm saves all settings in Flash. The active settings can be copied to
		the "defaults area" and restored later using the blue button below.
			</div>

	<div class="Row buttons2">
		<a class="button icn-restore"
		   onclick="return confirm('Restore all settings to their default values?');"
		   href="restore_defaults.html">
			Reset to saved defaults		</a>
	</div>

	<div class="Row buttons2">
		<a onclick="writeDefaults(); return false;" href="#">Save active settings as defaults</a>
	</div>

	<div class="Row buttons2">
		<a onclick="return confirm('Restore to firmware default settings? This will reset all active settings and switch to AP mode with the default SSID.');"
		   href="restore_hard.html">
			Reset active settings to firmware defaults		</a>
	</div>
</div>


<form class="Box str mobcol" action="system_set.html" method="GET" id="form-2">
	<h2 tabindex=0>Access Restrictions</h2>

	<div class="Row explain">
		
		Some parts, or all of the web interface can be protected by a password prompt.
		Leave the new password fields empty if you do not wish to change it.
		</div>

	<div class="Row">
		<label for="pwlock">Protected pages</label>
		<select name="pwlock" id="pwlock">
			<option value="0">None, all open</option>
			<option value="1">WiFi, Net & System settings</option>
			<option value="2">All settings pages</option>
			<option value="3">This entire menu section</option>
			<option value="4">Everything, even terminal</option>
		</select>
	</div>

	<div class="Row">
		<label for="access_name">Username</label>
		<input type="text" name="access_name" id="access_name" value="espterm">
	</div>

	<div class="Row">
		<label for="access_pw">New password</label>
		<input type="password" name="access_pw" id="access_pw" readonly onfocus="this.removeAttribute('readonly')" style="cursor:text" autocomplete="off">
	</div>

	<div class="Row">
		<label for="access_pw2">New pass., repeat</label>
		<input type="password" name="access_pw2" id="access_pw2" readonly onfocus="this.removeAttribute('readonly')" style="cursor:text" autocomplete="off">
	</div>

	<div class="Row">
		<label for="pw">Admin password</label>
		<input type="password" name="pw" id="pw" required>
	</div>

	<div class="Row buttons">
		<a class="button icn-ok" href="#" onclick="qs('#form-2').submit()">Apply!</a>
	</div>
</form>

<form class="Box str mobcol" action="system_set.html" method="GET" id="form-3">
	<h2 tabindex=0>Change Admin Password</h2>

	<div class="Row explain">
		
		The "admin password" is used to manipulate the stored default settings
		and to change access restrictions. This password is not saved as part 
		of the main config, i.e. using save / restore does not affect this 
		password. When the admin password is forgotten, the easiest way to
		re-gain access is to wipe and re-flash the chip. 
			</div>

	<div class="Row">
		<label for="admin_pw">New admin pass.</label>
		<input type="password" name="admin_pw" id="admin_pw">
	</div>

	<div class="Row">
		<label for="admin_pw2">New pass., repeat</label>
		<input type="password" name="admin_pw2" id="admin_pw2">
	</div>

	<div class="Row">
		<label for="pw">Old admin pass.</label>
		<input type="password" name="pw" id="pw" required>
	</div>

	<div class="Row buttons">
		<a class="button icn-ok" href="#" onclick="qs('#form-3').submit()">Apply!</a>
	</div>
</form>

<script>
	function writeDefaults() {
		var pw = prompt('Enter admin password to confirm you want to overwrite the default settings.');
		if (!pw) return;
		location.href = "write_defaults.html" + '?pw=' + pw;
	}

	$('#pwlock').val(0);
</script>

<div class="botpad"></div>

<div class="NotifyMsg hidden" id="notif"></div>

</div>

</div>

</body>
</html>
